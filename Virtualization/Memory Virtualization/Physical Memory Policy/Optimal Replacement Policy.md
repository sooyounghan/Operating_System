-----
### 최적 교체 정책
-----
1. 최적 정책(Optimal Replacement Policy)은 미스를 최소화
   - 가장 나중에 접근될 페이지를 교체하는 것이 최적이며, 가장 적은 횟수의 미스를 발생시킴
   - 최적의 방법은 비현실적이지만 시뮬레이션이나 다른 연구 목적에서 비교 대상으로 매우 유용

2. 가장 먼 시점에 필요한 페이지보다 캐시에 존재하는 다른 페이지들이 더 중요하다는 것이 핵심
   - 가장 먼 시점에 접근하게 될 페이지보다 다른 페이지들을 먼저 참조할 것이기 때문임

3. 예제) 프로그램이 0, 1, 2, 0, 1, 3, 0, 3, 1, 2, 1의 순서대로 가상 페이지들을 접근하다고 가정
   - 캐시에 세 개의 페이지를 저장할 수 있다고 가정할 때 최적의 기법 동작
<div align="center">
<img src="https://github.com/user-attachments/assets/b0a35732-e7c3-44e2-9c95-a1d391960763">
</div>

   - 캐시는 처음에 비어있는 상태로 시작하므로 첫 세번의 접근은 당연히 미스 : 최초 시작 미스(Cold-Start Miss) 또는 강제 미스(Compulsory Miss)
   - 페이지 0과 1을 참조하면 캐시에서 히트
   - 마지막으로 또 다른 미스를 만남 (페이지 3) : 이 때는 캐시가 가득차있으므로 교체 정책 실행
   - 최적 기법의 경우 캐시에 현재 탑재되어 있는 각 페이지들(0, 1, 2)의 미래를 살펴봄
     + 0은 거의 즉시 접근 될 것
     + 1은 약간 후에 접근 될 것
     + 2는 가장 먼 미래에 접근 될 것
   - 최적 기법에 의해 페이지 2를 내보내고 결과적으로 캐시에 0, 1, 3이 남게 됨
   - 이후 세 번의 참조는 히트
   - 다음으로 오래 전에 내보냈던 페이지 2에 대해 또 한 번의 미스가 발생
     + 여기서 최적 기법은 다시 한 번 캐시 내 각 페이지들(0, 1, 3)의 미래를 검사
     + 그리고 페이지 1만 아니면(바로 다음 접근 예정) 어느 페이지를 내보내도 괜찮으므로, 페이지 3을 내보냄
   - 최종적으로 페이지 1이 히트되고 종료

4. 캐시의 히트율 계산
   - 캐시 히트가 6번, 캐시 미스가 5번이었으므로, 히트율은 $\frac{Hits}{Hits + Misses}$으로 계산되며, $\frac{6}{6 + 5}$ = 54.5%
   - 강제 미스들(즉, 해당 페이지가 처음 미스된 경우)을 제외하면 85.7% 히트율

5. 미래는 일반적으로 미리 알 수 없으므로, 범용 운영체제에서는 최적 기법 구현이 불가능
   - 최적 기법은 비교 기준으로 사용됨

-----
### 캐시 미스의 종류
-----
1. 총 3가지의 미스가 존재하는데, 이를 세개의 C라고 함
2. 강제 미스(Compulsory Miss) 또는 최초 시작 미스(Cold-Start Miss) : 캐시가 비어 있었고, 그 항목들을 처음으로 참조하기 때문에 발생하는 미스
3. 용량 미스(Capacity Miss) : 캐시의 공간이 다찼기 때문에 새로운 항목을 캐시에 넣기 위해 어떤 항목을 내보낼 때 발생하는 미스
4. 충돌 미스(Confilict Miss) : 세트 연관 매핑(Set-Associativity)이라 불리며 하드웨어에서 발생
   - 페이지 캐시는 완전 연관 매핑(Fully-Associativity)으로 되어 있으므로 운영체제에서 발생하지 않음
   - 즉, 메모리에 페이지를 탑재하는 위치에 제한이 없음
   
