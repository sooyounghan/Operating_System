-----
### malloc() 함수
-----
1. 힙에 요청할 공간의 크기를 넘겨주면, 성공할 경우 새로 할당된 공간에 대한 포인터를 사용자에게 반환하며, 실패할 경우 NULL 반환 (NULL : C언어에서는 0 값을 나타내는 매크로)
```
#include <stdlib.h>

...

void *malloc(size_t size);
```
   - malloc()을 사용하기 위해 헤더 파일 stdlib.h를 소스 코드에 포함시켜야 함 (사실 모든 C 프로그램에 디폴트로 링크되는 C 라이브러리는 malloc() 함수를 가지고 있음)
   - 헤더 파일을 추가하면 malloc()을 올바르게 호출했는지 컴파일러가 검사할 수 있으며, 전달된 인자의 개수가 맞는지, 올바른 데이터 타입 인자를 전달했는지 검사하게 됨
   - malloc()의 인자는 size_t 타입 변수이며, 이 변수는 필요 공간의 크기를 바이트 단위로 표시한 것
     + 대부분의 숫자를 지겁 입력하지 않고, 다양한 루틴과 매크로를 활용
     + 예) double precision의 부동 소수점 값을 위한 공간 확보를 위해 다음과 같이 설정 : double *d = (double *) malloc(sizeof(double));
   - malloc() 호출에서는 정확한 크기 공간 요청을 위해 sizeof() 연산자 사용 (C언에에서 sizeof()는 통상 컴파일 시간 연산자이며, 인자의 실제 크기가 컴파일 시간에 결정)
     + 이러한 이유로, sizeof()는 연산자로 간주되며, 함수 호출이 아님 (함수 호출은 실행 시간에 일어남)
   - 데이터 타입 뿐 아니라 변수의 이름도 sizeof() 인자로 전달 가능
```
int *x = malloc(10 * sizeof(int));
printf(“%d\n ”, sizeof(x));
```
   - 정수형 원소 10개를 가지는 배열을 위한 공간을 선언
   - 다음 줄에서 sizeof()를 사용하면 4(32비트 컴퓨터) 또는 8(64비트 컴퓨터) 값을 반환 : sizeof()는 여기서 동적으로 할당받은 메모리 크기가 얼마인지가 아닌, 정수를 가리키는 포인터 크기가 얼마인지에 물어본 것

```
int x[10];
printf(“%d\n ”, sizeof(x));
```
   - 이 경우, 변수 x에 40바이트가 할당되었다는 것을 컴파일러가 알 수 있는 정적 정보가 충분
   - 문자열을 다룰 경우도 조심해야 하는데, 문자열을 위한 공간을 선언할 때는 다음과 같은 문장 사용 : malloc(strlen(s) + 1)
     + strlen() 함수를 사용해 문자열의 길이를 얻어낸 뒤, 문자열 끝을 나타내는 문자를 위한 공간 확보를 위해 1바이트를 더함
     + malloc()은 void 타입에 대한 포인터를 반환하는데, 주소만 넘겨주고 해당 주소 공간에 어떤 타입의 자료를 저장할지는 따라서 프로그래머가 결정하게 하는 것이 C언어의 전형적인 방식
     + 따라서, 프로그래머는 타입 변환(Type Casting)을 이용해 공간 활용을 결정하며, 위 예에서 프로그래머는 malloc()이 반환한 데이터 타입을 double 형을 가리키는 포인터 타입으로 변환
     + 캐스팅은 실제 무언가를 하지 않고, 컴파일러와 다른 프로그래머에게 알려주는 용도임
