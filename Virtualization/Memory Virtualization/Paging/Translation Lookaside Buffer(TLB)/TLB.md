-----
### 실제 TLB
-----
1. 예) MIPS R4000 (최근 시스템이며, 소프트웨어로 관리되는 TLB)
<div align="center">
<img src="https://github.com/user-attachments/assets/6050f40f-0919-46c1-a88a-30f0f27ddd12">
</div>

   - 32비트 주소 공간에 4KB 페이지 지원
   - 일반적인 가상 주소 공간을 사용하므로 VPN은 20비트 그리고 오프셋으로 12비트를 가질 것으로 예측하지만, VPN에 19비트 할당
     + 전체 주소 공간의 절반만 사용자 주소 공간으로 할당(나머지 반은 커널에서 사용) 때문에, VPN에 19비트 할당
     + 물리 프레임 번호(PFN) 24비트가 할당되므로 $2^{24} = 64 GB$의 (물리) 주 메모리 지원 ($2^{24}$개의 4KB 페이지) 가능

2. MIPS의 TLB의 중요 비트
   - 전역 비트 (Global Bit, G) : 프로세스 간 공유되는 페이지들을 위해 사용
     + 전역 비트가 설정되었다면 ASID는 무시
   - ASID : 8비트 길이로, 이 부분을 보고 주소 공간을 서로 구분
   - 일관성 비트 (Consistency Bit, C) : 3비트 길이로, 페이지가 하드웨어에 어떻게 캐시 되어 있는지 판별  
     + 예) 만약 256($2^{8}$)개 이상의 프로세스를 동시에 실행 할 경우
   - 더티 비트 (Dirty Bit, D) : 페이지가 갱신되면 세팅
   - 유효 비트 (Valid Bit, V) : 항목에 유효한 변환 정보가 존재하는지 나타냄
   - 페이지 마스크 필드 (Page Mask Field) : 여러 개 페이지 크기를 지원할 때 사용
   - 회색 처리된 64번쨰 비트는 사용되지 않음

3. MIPS의 TLB들은 일반적으로 32개 또는 64개 항목으로 구성
   - 대부분은 사용자 프로세스들이 사용하며, 몇 개는 운영체제를 위해 예약이 되어있음
   - 운영체제에 의해서 연결된(Wired) 레지스터가 설정이 될 수도 있으며, 운영체제는 몇 개의 TLB를 예약할지 하드웨어에게 알림
   - 운영체제는 예약된 매핑 영역을 TLB 미스가 발생해서는 안 되는(예) TLB 미스 핸들러) 코드와 데이터를 위해 사용

4. MIPS의 TLB는 소프트웨어가 관리하므로 TLB를 갱신하기 위한 명령어 필요
   - MIPS는 네 개 명령어를 제공
   - TLBP : 어떤 특정 변환 정보가 존재하는지 탐색하는데 사용
   - TLBR : TLB 항목의 내용을 레지스터로 읽어드리는데 사용
   - TLBWI : 특정 TLB 항목을 교체
   - TLBWR : 임의의 TLB 항목을 교체
   - 운영체제는 이 명령어들을 사용해 TLB 내용을 관리하며, 이 명령어들은 특별한 실행권한(Privilged)을 가지고 있어야 함
