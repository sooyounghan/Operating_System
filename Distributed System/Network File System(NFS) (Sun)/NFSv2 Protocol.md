-----
### NFSv2 프로토콜
-----
1. NFS 프로토콜 설계를 이해하기 위해 필요한 핵심 개념 중 하나는 파일 핸들(File Handler)
   - 파일 핸들은 특정 연산을 수행할 파일이나 디렉토리를 고유하게 설명하는데 사용
   - 디스크 기반 파일 시스템에서 파일 디스크럽터와 유사한 개념
   - 많은 프로토콜 요청들이 파일 핸들이 전달되고, 파일 핸들은 볼륨 식별자와 아이노드 번호 그리고 생성 번호의 세 가지 주요 인자로 구성
   - 서버는 이 세가지 정보를 조합해 클라이언트가 원하는 파일이나 디렉토리를 식별
     + 볼륨 식별자는 해당 요청이 어떤 파일 시스템을 대상으로 하고 있는지 서버에게 알려줌 (NFS 서버는 하나 이상의 파일 시스템 파티션을 제공할 수 있음)
     + 아이노드 번호는 그 파티션 내 해당 요청이 접근하고자 하는 파일을 나타냄
     + 생성 번호는 아이노드 번호를 재사용하기 위해 필요한 것으로 아이노드 번호를 재사용할 때마다 증가
   - 서버는 생성 번호를 통해 오래된 파일 핸들을 사용하는 클라이언트가 실수로 새로 할당된 파일을 접근하는 경우 방지

2. NFS 프로토콜 예제
<div align="center">
<img src="https://github.com/user-attachments/assets/6ed3ddc1-687d-440a-ae04-374cadac587e">
</div>

   - LOOKUP 프로토콜 메세지 : 파일 핸들을 얻기 위해 사용
     + 파일 핸들은 추후 파일 데이터를 접근하는 데 사용되며, 클라이언트는 원하는 대상의 파일 이름과 파일이 속한 디렉토리의 파일 핸들을 전달
     + 서버는 클라이언트에게 해당 파일(또는 디렉토리)의 핸들과 더불어 해당 파일의 속성 정보 전달
     + 예) 클라이언트가 파일 시스템의 루트 디렉토리(/)에 대한 디렉토리 파일 핸들을 이미 가지고 있음 (루트 디렉토리 정보는 NFS 마운트 프로토콜(Mount Protocol)을 통해 얻을 수 있음)
       * 만약 클라이언트 프로그램이 /foo.txt 파일을 얻고자 할 경우, 클라이언트 측 파일 시스템은 서버로 LOOKUP 요청을 전송하면서 파일 이름 foo.txxt와 루트 파일 핸들을 같이 전달
       * 성공하면 foo.txt의 파일 핸들(그리고 속성 정보)이 리턴

   - 속성은 파일 시스템이 각 파일에 대해 관리하고 있는 메타데이터로서 파일 생성 시간, 마지막 수정 시간, 크기, 소유와 권한 정보와 같은 것들을 포함
     + 즉, 어떤 파일에 대해 stat()를 호출하여 얻을 수 있는 정보를 말함

3. 파일 핸들이 준비되었다면 클라이언트는 각 파일을 읽거나 쓰기 위해 READ나 WRITE와 같은 프로토콜 메세지를 보낼 수 있음
   - READ 프로토콜 메세지는 파일의 핸들과 파일 내에서 오프셋 그리고 읽을 바이트 길이를 같이 전달하도록 정의
   - 그러면 서버가 읽기를 수행할 수 있으며(결국, 핸들이 서버에게 알려주는 정보도 어떤 볼륨에서 어떤 아이노드에 해당하는 파일을 읽어야 하며 해당 파일의 오프셋만큼 떨어진 위치에서 읽을 바이트의 수이므로), 데이터를 클라이언트에게 리턴 가능 (실패하였다면 에러 전송)
   - WRITE 또한 비슷하게 처리되지만, 클라이언트에서 서버로 데이터가 전달되며 성공 시 성공 코드만 리턴

4. GETATTR 요청은 어떤 파일 핸들에 대해 해당 파일의 마지막 수정 시간을 포함하는 속성 정보를 가져옴
