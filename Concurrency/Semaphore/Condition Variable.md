-----
### 컨디션 변수로서의 세마포어
-----
1. 어떤 조건이 참이 되기를 기다리기 위해 현재 쓰레드를 멈출 때에도 세마포어는 유용하게 사용 가능
   - 예를 들어, 리스트에서 객체를 삭제하기 위해 리스트에 객체가 추가되기를 대기하는 쓰레드가 있을 수 있음
   - 이런 종류의 전형적인 패턴이 하나의 쓰레드가 어떤 사건의 발생을 기다리고, 또 다른 쓰레드는 해당 사건을 발생시킨 후, 시그널을 보내어 기다리는 쓰레드를 깨우는 것
   - 대기 중인 쓰레드(또는 쓰레드들)가 프로그램에서의 어떤 조건(Condition)이 만족되기를 대기하기 때문에, 세마포어를 컨디션 변수처럼 사용 가능

2. 예제) 부모 쓰레드가 자식 쓰레드를 생성한 후, 자식 쓰레드의 종료를 대기하고자하는 경우
<div align="center">
<img src="https://github.com/user-attachments/assets/1db7ecbb-e756-45ed-82d0-70a30cd16c76">
</div>

   - 만족하는 실행 결과
```
parent: begin
child
parent: end
```

   - 부모 프로세스는 자식 프로세스 생성 후 sem_wait()를 호출하여 자신의 종료를 대기
   - 자식은 sem_post()를 호출하여 종료되었음을 알림
   - 💡 세마포어의 초기값은 0이 되어야 함

3. 세마포어의 초기값
   - 자식 프로세스 생성 후, 아직 자식 프로세스가 실행하지 않은 경우 (준비 큐에만 존재하고 실행 중이 아님)
     + semp_post()를 호출하기 전에 부모가 sem_wait()를 호출할 것이며, 부모 프로세스는 자식이 실행될 때까지 대기해야 함
     + 이를 위해서 sem_wait() 호출 전에 세마포어 값이 0보다 같거나 작아야 하므로, 초기값이 0이 되어야 함
     + 부모가 실행되면 세마포어 값을 감소시키고(-1) 대기
     + 자식이 실행되었을 때 sem_post()를 호출하여 세마포어 값을 0으로 증가시킨 후 부모를 깨움
     + 그러면 부모는 sem_wait()에서 리턴을 하여 프로그램을 종료
<div align="center">
<img src="https://github.com/user-attachments/assets/2d22ad30-4d10-461c-abc2-f4f273e2abb5">
</div>

   - 부모 프로세스가 sem_wait()를 호출하기 전 자식 프로세스 실행이 종료된 경우
     + 이 경우, 자식이 먼저 sem_post()를 호출해 세마포어 값을 0에서 1로 증가
     + 부모가 실행할 수 있는 상황이 되면 sem_wait() 호출
     + 세마포어 값이 1인 것을 발견하고, 부모는 세마포어 값을 0으로 감소시키고 sem_wait()에서 대기 없이 리턴
<div align="center">
<img src="https://github.com/user-attachments/assets/2163c15a-18b9-4f62-9941-6aa2f5121ef8">
</div>

  
