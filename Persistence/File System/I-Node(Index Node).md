-----
### νμΌ κµ¬μ„± : μ•„μ΄λ…Έλ“
-----
1. νμΌ μ‹μ¤ν…μ λ””μ¤ν¬ μλ£ κµ¬μ΅° μ¤‘ κ°€μ¥ μ¤‘μ”ν• κ²ƒμ€ μ•„μ΄λ…Έλ“(I-Node)
2. μ•„μ΄λ…Έλ“λ” μΈλ±μ¤ λ…Έλ“(Index Node)μ μ¤„μ„λ§λ΅μ„, μ—­μ‚¬μ μΌλ΅ UNIX μ°½μ‹μμΈ Ken Thompsonμ΄ μ²μ μ‚¬μ©
   - μ΄ λ…Έλ“λ“¤μ€ μ›λλ” λ°°μ—΄λ΅ λμ–΄ μλ”λ°, κ° λ°°μ—΄μ€ νΉμ • μ•„μ΄λ…Έλ“λ¥Ό μ ‘κ·Όν•κΈ° μ„ν•΄ νƒμƒ‰

3. μλ£ κµ¬μ΅° - μ•„μ΄λ…Έλ“
   - νμΌ λ©”νƒ€λ°μ΄ν„°λ¥Ό μ €μ¥ν•κΈ° μ„ν• μλ£ κµ¬μ΅°λ΅μ„ λ§μ€ νμΌ μ‹μ¤ν…λ“¤μ΄ μ•„μ΄λ…Έλ“(I-Node)λΌλ” μΌλ°μ μΈ μ΄λ¦„μ„ μ‚¬μ©
   - μ΄ μλ£κµ¬μ΅°λ” νμΌ ν¬κΈ°, μ ‘κ·Ό κ¶ν•, κ·Έλ¦¬κ³  νμΌ λΈ”λ­λ“¤μ μ„μΉ μ •λ³΄λ¥Ό κ°€μ§€κ³  μμ
   - λ””μ¤ν¬ μƒ μ•„μ΄λ…Έλ“μ λ°°μ—΄μ μΈλ±μ¤λ΅ μ•„μ΄λ…Έλ“ λ²νΈλ¥Ό μ‚¬μ©ν•λ κ²ƒμ—μ„ κΈ°μ•
   - D-Node, F-Node λ“±μΌλ΅λ„ λ¶λ¦Ό

4. κ° μ•„μ΄λ…Έλ“λ” μ«μ(μ•„μ΄λ„λ²„(I-Number))λ΅ ν‘ν„λλ©°, νμΌμ μ €μμ¤€ μ΄λ¦„(Low-Level Name)μ΄λΌκ³ λ„ λ¶λ¦Ό
   - VSFSμ—μ„λ” μ•„μ΄λ„λ²„λ¥Ό μ‚¬μ©ν•΄μ„ ν•΄λ‹Ή μ•„μ΄λ…Έλ“κ°€ λ””μ¤ν¬ μƒ μ–΄λ””μ— μλ”μ§€ μ§μ ‘ κ³„μ‚° κ°€λ¥
   - μμ‹
<div align="center">
<img src="https://github.com/user-attachments/assets/c37620ab-12ba-4787-8bb7-4ec0def6e48a">
</div>

   - ν¬κΈ°κ°€ 20KBμ΄κ³ (4KB λΈ”λ­ 5κ°), 80κ°μ μ•„μ΄λ…Έλ“(κ° μ•„μ΄λ…Έλ“λ” 256Bytes)λ΅ μ΄λ£¨μ–΄μ Έμμ (μνΌλΈ”λ­μ€ 0KBμ— μ„μΉμ—μ„ μ‹μ‘)
   - μ•„μ΄λ…Έλ“ λΉ„νΈλ§µ μ£Όμ†λ” 4KBμ—μ„λ¶€ν„°, λ°μ΄ν„° λΉ„νΈλ§µμ€ 8KBμ—μ„λ¶€ν„° μ‹μ‘ν•λ©°, μ•„μ΄λ…Έλ“ ν…μ΄λΈ”μ€ κ·Έ λ°”λ΅ μ§ν›„μ— μμ
   - VSFS νμΌ μ‹μ¤ν… νν‹°μ…μ μ‹μ‘ λ¶€λ¶„μ€ λ‹¤μκ³Ό κ°™μ
<div align="center">
<img src="https://github.com/user-attachments/assets/c37620ab-12ba-4787-8bb7-4ec0def6e48a">
</div>

5. 32λ² μ•„μ΄λ…Έλ“λ¥Ό μ½κΈ° μ„ν•΄ νμΌ μ‹μ¤ν…μ€ μ•„μ΄λ…Έλ“ μμ—­μ—μ„μ μ¤ν”„μ…‹ κ³„μ‚° : 32 * sizeof(inode) λλ” 8192)
   - κ·Έ ν›„, μ•„μ΄λ…Έλ“ ν…μ΄λΈ”μ μ‹μ‘ μ„μΉλ¥Ό λ”ν•λ©΄(inodeStartAddr = 12KB), μ›ν•λ” μ•„μ΄λ…Έλ“ λΈ”λ­μ μ •ν™•ν• λ°”μ΄νΈ μ£Όμ†λ¥Ό κµ¬ν•  μ μμ(20KB)
   - π’΅ λ””μ¤ν¬λ” λ°”μ΄νΈ λ‹¨μ„λ΅λ” μ ‘κ·Όμ΄ λ¶κ°€λ¥ν•μ—¬ λ€μ‹ μ— λ€μ²΄μ μΌλ΅ 512 λ°”μ΄νΈ ν¬κΈ°λ¥Ό κ°–λ” μ„Ήν„°(Sector)λ΅ μ΄λ£¨μ–΄μ§
   - 32λ² μ•„μ΄λ…Έλ“κ°€ μ΅΄μ¬ν•λ” λΈ”λ­μ„ κ°€μ Έμ¤κΈ° μ„ν•΄μ„λ” νμΌ μ‹μ¤ν…μ€ μ„Ήν„° μ£Όμ† $\frac {20 Γ— 1024}{512}$ λλ” 40μ— λ€ν• μ½κΈ° μ”μ²­μ„ ν•΄λ‹Ή μ•„μ΄λ…Έλ“ λΈ”λ­μ„ κ°€μ Έμ΄
   - μ•„μ΄λ…Έλ“ λΈ”λ­μ μ„Ήν„° μ£Όμ† iaddrμ€ λ‹¤μκ³Ό κ°™μ΄ κ³„μ‚° κ°€λ¥
```c
blk = (inumber * sizeof(inode_t)) / blockSize;
sector = ((blk * blockSize) + inodeStartAddr) / sectorSize;
```

6. μ•„μ΄λ…Έλ“μ—λ” νμΌμ— λ€ν• μ •λ³΄κ°€ λ‹¤ λ“¤μ–΄μμΌλ©°, νμΌμ μΆ…λ¥(μ) μΌλ° νμΌ, λ””λ ‰ν„°λ¦¬ λ“±), ν¬κΈ°, ν• λ‹Ήλ λΈ”λ­ μ, λ³΄νΈ μ •λ³΄(νμΌμ μ†μ , μ ‘κ·Ό κ¶ν• λ“±), μ‹κ°„ μ •λ³΄μ™€ λ”λ¶μ–΄ λ°μ΄ν„° λΈ”λ­μ΄ λ””μ¤ν¬ μ–΄λ””μ— μ΅΄μ¬ν•λ”μ§€ (μ) ν¬μΈν„°μ μΌμΆ…)μ™€ κ°™μ€ μ •λ³΄λ“¤μ΄ λ‹΄κ²¨ μμ
   - μ΄μ™€ κ°™μ€ νμΌμ— λ€ν• μ •λ³΄λ“¤μ„ λ©”νƒ€λ°μ΄ν„°(Metadata)λΌκ³  ν•λ©°, μ‚¬μ©μ λ°μ΄ν„°κ°€ μ•„λ‹ κΈ°νƒ€ μ •λ³΄λ¥Ό ν†µν‹€μ–΄ λ©”νƒ€λ°μ΄ν„°λΌ λ¶€λ¦„
   - EXT2μ μ•„μ΄λ…Έλ“ μ
<div align="center">
<img src="https://github.com/user-attachments/assets/97728369-9e0f-46ac-adf7-6fbb751d4d4d">
</div>

7. μ•„μ΄λ…Έλ“ μ„¤κ³„ μ‹ κ°€μ¥ μ¤‘μ”ν• κ²°μ • μ¤‘ ν•λ‚λ” λ°μ΄ν„° λΈ”λ­μ μ„μΉλ¥Ό ν‘ν„ν•λ” λ°©λ²•
   - κ°„λ‹¨ν• λ°©λ²•μ€ μ•„μ΄λ…Έλ“ λ‚΄ μ—¬λ¬ κ°μ μ§μ ‘ ν¬μΈν„°(Direct Pointer, λ””μ¤ν¬ μ£Όμ†)λ¥Ό λ‘λ” κ²ƒ
   - κ° ν¬μΈν„°λ” νμΌμ λ””μ¤ν¬ λΈ”λ­ ν•λ‚λ¥Ό κ°€λ¦¬ν‚΄
   - μ΄ λ°©λ²•μ€ μ μ•½μ΄ λ§μ : νμΌ ν¬κΈ°μ μ ν•μ΄ μμΌλ©°, νμΌ ν¬κΈ°κ°€ (ν¬μΈν„°μ κ°μ) * (λΈ”λ­ ν¬κΈ°)λ΅ μ ν•

-----
### λ©€ν‹° λ λ²¨ μΈλ±μ¤ (Multi-Level Index)
-----
1. ν° νμΌμ„ μ§€μ›ν•κΈ° μ„ν•΄μ„ νμΌ μ‹μ¤ν… κ°λ°μλ“¤μ€ μ•„μ΄λ…Έλ“ λ‚΄ λ‹¤λ¥Έ μλ£ κµ¬μ΅°λ¥Ό μ¶”κ°€ν•΄μ•Ό ν•¨
2. μΌλ°μ μΌλ΅ μ‚¬μ©λλ” λ°©λ²• μ¤‘ ν•λ‚λ” κ°„μ ‘ ν¬μΈν„°(Indirect Pointer)λΌλ” νΉμν• ν¬μΈν„° μ‚¬μ©
   - κ°„μ ‘ ν¬μΈν„°λ” λ°μ΄ν„° λΈ”λ­μ„ κ°€λ¦¬ν‚¤μ§€ μ•κ³ , κ°€λ¦¬ν‚¤λ” λΈ”λ­μ—λ” λ°μ΄ν„° λΈ”λ­μ„ κ°€λ¦¬ν‚¤λ” ν¬μΈν„°λ“¤μ΄ μ €μ¥
   - μ§μ ‘ ν¬μΈν„°μ™€ κ°„μ ‘ ν¬μΈν„°λ¥Ό κ²°ν•©ν•΄μ„ μ‚¬μ©ν•  μ μμ
   - μ•„μ΄λ…Έλ“μ—λ” μ •ν•΄μ§„ μμ μ§μ ‘ ν¬μΈν„°(μ) 12κ°), κ·Έλ¦¬κ³  ν•λ‚μ κ°„μ ‘ ν¬μΈν„°κ°€ μμ
   - ν° νμΌμ— λ€ν•΄μ„λ” κ°„μ ‘ λΈ”λ­μ΄ ν• λ‹Ήλκ³ (λ””μ¤ν¬ λ°μ΄ν„° λΈ”λ­ μμ—­ μ—μ„), μ•„μ΄λ…Έλ“μ κ°„μ ‘ ν¬μΈν„°λ” μ΄ κ°„μ ‘ λΈ”λ­μ„ κ°€λ¦¬ν‚΄
   - λΈ”λ­μ΄ 4KBμ΄κ³ , λ””μ¤ν¬ μ£Όμ†κ°€ 4λ°”μ΄νΈλΌκ³  ν•λ©΄, 1024κ° ν¬μΈν„°λ“¤μ„ μ¶”κ°€λ΅ ν•  μ μμ
   - μµλ€ νμΌ ν¬κΈ° : (12 + 1024) * 4KB λλ” 4414 KB

3. 4414KBλ” ν° νμΌμ€ μ•„λ‹λ―€λ΅, λ” ν° νμΌμ„ μ €μ¥ν•κ³  μ‹¶μ„ λ•, μ•„μ΄λ…Έλ“μ— μ΄μ¤‘ κ°„μ ‘ ν¬μΈν„°(Double Indirect Pointer)λ¥Ό μ¶”κ°€
    - μ΄μ¤‘ κ°„μ ‘ ν¬μΈν„°κ°€ κ°€λ¦¬ν‚¤λ” λΈ”λ­μ—λ” κ°„μ ‘ ν¬μΈν„°λ“¤μ΄ μ €μ¥λμ–΄ μμ
    - κ° κ°„μ ‘ λΈ”λ­μ€ λ°μ΄ν„° λΈ”λ­μ„ κ°€λ¦¬ν‚¤λ” ν¬μΈν„°λ“¤μ„ κ°€λ¦¬ν‚¤κ³  μμ
    - μ΄μ¤‘ κ°„μ ‘ λΈ”λ­μ„ μ‚¬μ©ν•λ©΄ νμΌμ€ 4KB * 1024 * 1024, μ•½ λ°±λ§κ°μ 4KByte λΈ”λ­μ„ κ°€μ§ μ μμ (μ¦‰, 4GBκ°€ λ„λ” ν¬κΈ°μ νμΌμ„ μ§€μ›ν•  μ μκ² λ¨)
   
4. λ” ν° νμΌμ„ ν‘ν„ν•΄μ•Ό ν•λ‹¤λ©΄, μ‚Όμ¤‘ κ°„μ ‘ ν¬μΈν„°(Triple Indirect Pointer)λ¥Ό μ‚¬μ©

5. λ””μ¤ν¬ λΈ”λ­λ“¤μ€ μΌμΆ…μ νΈλ¦¬ ν•νƒλ΅ κµ¬μ„±λμ–΄ ν•λ‚μ νμΌμ„ μ΄λ£Έ
   - μ•½κ°„ ν•μ½μΌλ΅ μΉμ°μ³μ§„ ν•νƒμ νΈλ¦¬λ΅, μ΄λ° κµ¬μ„±λ°©μ‹μ„ λ©€ν‹° λ λ²¨ μΈλ±μ¤ κΈ°λ²•μ΄λΌ λ¶€λ¦„
   - μ—΄ λ‘κ°μ μ§μ ‘ ν¬μΈν„°μ™€ ν•λ‚μ κ°„μ ‘ λΈ”λ­κ³Ό μ΄μ¤‘ κ°„μ ‘ λΈ”λ­μ„ μ‚¬μ©ν•λ” μ
     + λΈ”λ­ ν¬κΈ°κ°€ 4KBλΌκ³  ν•κ³ , κ° ν¬μΈν„° ν¬κΈ°κ°€ 4λ°”μ΄νΈλΌκ³  ν•λ©΄, κµ¬μ΅°μ—μ„ νμΌμ€ 4GBκ°€ μ΅°κΈ λ„λ” ν¬κΈ°λ¥Ό κ°€μ§ μ μμ((12 + 1024 + $1024^{2}$) Γ— 4KB)

6. μΌλ°μ μΌλ΅ μ‚¬μ©λλ” νμΌ μ‹μ¤ν…μΈ EXT2, EXT3 / NetAppμ WAFLμ„ ν¬ν•¨ν•μ—¬, λ§μ€ νμΌ μ‹μ¤ν…λ“¤μ΄ λ©€ν‹° λ λ²¨ μΈλ±μ¤ μ‚¬μ©
7. SGIμ XFSμ™€ Linuxμ EXT4μ™€ κ°™μ€ νμΌ μ‹μ¤ν…λ“¤μ€ κ°„λ‹¨ν• ν¬μΈν„°λ¥Ό μ‚¬μ©ν•λ” λ€μ‹  μµμ¤ν…νΈ μ‚¬μ©
   - μµμ¤ν…νΈ(Extent) κΈ°λ°μ λ™μ‘ λ°©λ²•
     + λ‹¨μν λ””μ¤ν¬ ν¬μΈν„°μ™€ κΈΈμ΄(λΈ”λ­ λ‹¨μ„)λ΅ κµ¬μ„±
     + νμΌμ λ¨λ“  λΈ”λ­μ— λ€ν•΄μ„ ν¬μΈν„°λ¥Ό μ¨μ•Ό ν•λ” λ€μ‹  λ””μ¤ν¬ μƒ ν• νμΌμ μ„μΉλ¥Ό κ°€λ¦¬ν‚¤κΈ° μ„ν•΄ ν•λ‚μ ν¬μΈν„°μ™€ κΈΈμ΄λ§ ν‘ν„ν•λ©΄ λ¨
     + λ””μ¤ν¬ μƒ μ¶©λ¶„ν ν¬κ³  μ—°μ†μ μΈ λΉ„μ–΄ μλ” κ³µκ°„μ„ μ°Ύλ” κ²ƒμ΄ μ–΄λ ¤μΈ μ μμΌλ―€λ΅, ν•λ‚μ μµμ¤ν…νΈλ§μ„ κ°–λ” κ²ƒμ€ μ ν•μ μΌ μ μμ
     + λ”°λΌμ„, μµμ¤ν…νΈ κΈ°λ° νμΌ μ‹μ¤ν…μ€ ν•λ‚ μ΄μƒμ μµμ¤ν…νΈλ¥Ό κ°–λ” κ²ƒμ„ ν—μ©ν•μ—¬ νμΌμ„ ν• λ‹Ήν•  λ• μΆ€ λ” μμ λ„κ°€ λ†’μ•„μ§ μ μλ„λ΅ ν•¨
     + λ‘ κΈ°λ²•μ„ λΉ„κµν•λ©΄, ν¬μΈν„° κΈ°λ° μ ‘κ·Όλ²•μ€ κ°€μ¥ μμ λ„κ°€ λ†’μ§€λ§ κ° νμΌλ‹Ή λ§μ€ μ–‘μ λ©”νƒ€λ°μ΄ν„°λ¥Ό μ‚¬μ©(νΉν, ν° νμΌλ“¤μ κ²½μ°), μµμ¤ν…νΈ κΈ°λ°μ μ ‘κ·Όλ²•μ€ μμ λ„κ°€ λ‚®μ€ λ€μ‹  μΆ€ λ” μ§‘μ•½λμ–΄ μμ
     + νΉν, λ””μ¤ν¬μ— μ—¬μ  κ³µκ°„μ΄ μ¶©λ¶„ν μκ³ , νμΌλ“¤μ„ μ—°μ†μ μΌλ΅ λ°°μΉν•  μ μμ„ λ• μ λ™μ‘

8. νΈλ¦¬μ ν•νƒκ°€ νΈν–¥μ 
   - νμΌμ μ‹μ‘ λ¶€λ¶„μ„ μ΄λ£¨λ” λΈ”λ­λ“¤μ€ ν• λ²μ ν¬μΈν„°λ΅ μ ‘κ·Όμ΄ κ°€λ¥ν•μ§€λ§, ν° νμΌμ κ²½μ° νμΌμ λ λ¶€λ¶„μ— μλ” λΈ”λ­λ“¤μ€ ν¬μΈν„°λ¥Ό μ„Έ λ² λ”°λΌκ°€μ•Ό μ‹¤μ  λΈ”λ­μ„ μ½μ„ μ μμ
   - λ€λ¶€λ¶„μ νμΌ ν¬κΈ°κ°€ μ‘κΈ° λ•λ¬Έμ—, λΉ„λ€μΉ­μ  νΈλ¦¬ν•νƒλ¥Ό μ±„μ©ν• κ²ƒ
   - λ€λ¶€λ¶„μ νμΌλ“¤μ΄ μ‘λ‹¤λ©΄, μ‘μ€ νμΌμ„ λΉ¨λ¦¬ μ½κ³  μ“Έ μ μλ„λ΅ μ§μ ‘ ν¬μΈν„°(λ€μ²΄μ μΌλ΅ 12κ°)λ¥Ό κ°–κ³  μμΌλ©°, ν° νμΌλ“¤μ„ μ„ν•΄μ„ ν•λ‚(λλ” κ·Έ μ΄μƒ)μ κ°„μ ‘ λΈ”λ­μ΄ ν•„μ”

9. νμΌμ€ μ„ λ°©μ‹ λ§κ³ λ„ λ‹¤μ–‘ν• λ°©μ‹μΌλ΅ κµ¬μ„± κ°€λ¥
    - μ•„μ΄λ…Έλ“λ” μλ£ κµ¬μ΅°μ΄λ©°, λ°μ΄ν„°μ™€ κ΄€λ ¨ λ‚΄μ©λ“¤μ„ ν¨μ¨μ μΌλ΅ μ½κ³  μ“Έ μ μλ‹¤λ©΄, μ–΄λ–¤ λ°©μ‹μΌλ΅λ“  μ‚¬μ© κ°€λ¥
    - νμΌ μ‹μ¤ν… μ†ν”„νΈμ›¨μ–΄λ” μ†μ‰½κ² λ³€κ²½μ΄ κ°€λ¥
