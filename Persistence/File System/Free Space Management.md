-----
### 빈 공간 관리
-----
1. 파일 시스템은 아이노드와 데이터 블럭 사용 여부를 관리해야 새로운 파일이나 디렉토리를 할당할 공간을 찾을 수 있음
2. 빈 공간 관리(Free Space Management)는 모든 파일 시스템에서 중요
3. VSFS는 두 개의 비트맵 사용
   - 파일 생성 시 아이노드를 할당해야 함
     + 파일 시스템은 아이노드 비트맵을 탐색하여 비어 있는 아이노드를 찾아 파일에 할당
     + 파일 시스템은 해당 아이노드를 사용 중으로 표기하고(1로 표기), 디스크 비트맵도 적절히 갱신
     + 이와 유사한 동작이 데이터 블럭을 할당할 때도 발생

4. EXT2, EXT3와 같이 Linux 파일 시스템의 경우, 데이터 블럭 할당 시 가능하면 여러 개 블럭들이 연속적으로 비어 있는 공간을(예) 8개) 찾아서 할당
   - 추후 할당 요청이 발생하면 기존에 할당된 공간에 이어서 블럭을 할당하기 위해서임
   - 연속적으로 여러 개의 블럭들이 비어있는 공간을 할당함으로써 해당 파일에 대한 입출력 성능을 개선
   - 이러한 선할당(Pre-Allocation) 정책은 데이터 블럭 할당 시 자주 사용

5. 이처럼 빈 공간을 관리하는 여러 방법 중 하나가 비트맵 방법
   - 초기의 시스템들은 프리 리스트(Free List)를 사용하여 슈퍼블럭 안 포인터가 첫 번째 프리 블럭을 가리키도록 하였으며, 그 블럭은 다른 프리 블럭을 가리키는 포인터를 갖는 식으로 시스템 내 프리 블럭들 리스트를 만듬
   - 블럭이 하나 필요하면 리스트의 헤드를 사용하고, 슈퍼 블럭은 그 다음 블럭을 프리 리스트의 헤드가 되도록 설정
   - 현대의 파일 시스템은 좀 더 정교한 자료구조로, B-Tree 등의 일종을 사용해 디스크 어느 공간이 비어있는지를 작은 크기로 표현 (어느 자료구조를 사용하든 시간과 공간 사이 절충 가능)
