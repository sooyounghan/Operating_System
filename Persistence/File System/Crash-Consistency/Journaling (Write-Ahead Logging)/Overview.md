-----
### 저널링 (Write-Ahead Logging)
-----
1. 일관성을 담보하는 가장 대중적인 해법은 데이터베이스 관리 시스템에서 차용한 개념 중 하나인 WAL (Write-Ahead Logging) [역사적인 이유로 파일시스템에서는 저널링(Journaling)이라고 함]
2. 현대에는 많은 시스템들이 이 개념을 사용하고 있으며, Linux의 EXT3, EXT4 등에서 사용
3. 기본 개념
   - 디스크 내용을 갱신할 때, 해당 자료구조 갱신 전에, 먼저 수행하고자 하는 작업을 요약해서 기록 (디스크의 잘 알려진 위치에)
   - 다양한 기록 방법이 존재 : 새로운 페이지 이미지 전체를 저장하기도 하고, 변경될 부분만 저장하기도 함
   - 이처럼 앞으로 할 일을 먼저 저장해놓는 것을 Write-Ahead(미리 쓰기)라고 하고, Log(로그)라는 자료 구조에 기록하므로 WAL

4. 디스크에 갱신할 값, 즉 갱신 후 저장될 값과 관련된 내용을 로그에 기록해놓았으므로 안심
   - 해당 디스크 페이지들을 새 값으로 (덮어 쓰기) 갱신하는 과정에서 크래시가 발생하면, 로그를 확인해서 다시 갱신하면 됨 (Redo)
   - 따라서, 크래시가 났을 때 전체를 다 스캔하지 않아도 어느 부분을 고쳐야 하는지 (그리고 어떻게 고쳐야 할 지) 정확히 알 수 있음
   - 저널링 파일 시스템에서는 쓰기가 더 복잡해지는데, 쓸 내용들에 대한 정보를 미리 로깅한 후 실제 쓰기를 진행하기 떄문임
   - 따라서, 쓰기가 약간 느리지만, 그 오버헤드는 외외로 작으며, 시스템 복구 성능을 대폭 개선하므로 대부분 파일 시스템이 채용하고 있음

5. 많이 사용되는 저널링 파일 시스템인 Linux EXT3 파일 시스템의 저널링 기법
   - EX3가 사용하는 디스크 자료 구조는 Linux EXT2와 동일
   - 디스크는 블럭 그룹으로 나뉘어 있고, 각 블럭 그룹은 아이노드 비트맵, 데이터 비트맵 그리고 아이노드와 데이터 블럭들로 구성이 되어 있음
   - 저널 자료 구조가 핵심 (저장장치의 일부 영역(예) 128 KB) 차지)이며, 파일 시스템 포맷 시 설정
   - 저널이 없는 EXT2 파일 시스템의 구성
<div align="center">
<img src="https://github.com/user-attachments/assets/988ce62e-5385-4382-b07e-242bc2d6b7e7">
</div>

   - 저널 영역이 동일한 파일 시스템 파티션에 있다면 (저널 영역을 다른 장치나 혹은 다른 파일 시스템 파티션에 위치 가능) 저널 영역을 포함하는 EX3 파일 시스템 구성
<div align="center">
<img src="https://github.com/user-attachments/assets/c6098215-e5ba-4e86-8b79-2206fa76e960">
</div>


6. EXT2와 EXT3 간의 차이는 저널 존재 여부와 저널 활용 방법
