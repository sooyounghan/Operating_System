-----
### 크래시 일관성 : FSCK와 저널링
-----
1. 파일 시스템은 그 기본 개념들을 구현하는 데 필요한 각종 자료 구조들을 관리
   - 이 자료 구조에는 파일, 디렉터리, 그 외에 각종 메타데이터들이 존재
   - 파일 시스템 자료 구조는 안전하게 저장되어야 함
   - 즉, 장시간 사용 후에도 유지되어야 하며, 전력 손실에도 하드 디스크나 플래스 기반 SSD 장치의 데이터는 손상 없이 유지되어야 함

2. 파일 시스템이 가진 가장 큰 어려움은 전력 손실이나 시스템 크래시가 발생하는 상황에서도, 어떻게 안전하게 디스크 상 내용을 갱신하는 가에 대한 문제
   - 전력 손실이나 크래시 때문에 디스크 상 자료 구조를 안전하게 갱신하는 것은 상당히 까다로움
   - 파일 시스템은 크래시 일관성(Crash-Consistency)이라는 문제를 직면

3. 어떤 특정 작업을 위해 디스크 상에서 두 개의 자료 구조 A와 B를 갱신해야 한다고 가정
   - 디스크는 한 번에 하나의 요청만 처리할 수 있으므로, 두 요청 중 하나의 요청이 먼저 디스크에 도달할 것 (A 또는 B)
   - 하나의 쓰기 작업만 완료한 상태에서 시스템 전원이 나간 경우, 디스크 상의 자료 구조는 일관성이 깨지게(Inconsistent) 됨
   - 이러한 특성 때문에, 파일 시스템은 크래시 일관성이라는 문제에 직면

4. 해결 방법 : 과거 파일 시스템에서는 FSCK 또는 파일 시스템 검사기라는 방법을 사용했으며, 최근에는 저널링(Journaling) 또는 Write-Ahead Logging(WAL)이라는 기법 사용
   - 저널링(Journaling) 또는 Write-Ahead Logging(WAL)이라는 기법은 쓰기 오버헤드가 추가되긴 하지만 전력 손실이나 크래시 상황으로부터 좀 더 빠르게 복구 가능
