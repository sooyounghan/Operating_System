-----
### 디렉토리 구조
-----
1. VSFS 디렉터리는 간단함
   - 디렉토리는 (항목의 이름, 아이노드 번호) 쌍의 배열로 구성
   - 디렉터리 데이터 블럭에는 문자열과 숫자가 쌍으로 존재하며, 문자열 길이에 대한 정보도 존재(가변 길이의 이름을 가정)
   - 예를 들어, dir라는 디렉토리(아이노드 번호 5)에는 foo, bar, foobar 같은 3개의 파일이 있고, 각 아이노드 번호는 12, 13, 24라고 가정
   - dir 데이터 블럭은 다음과 같은 내용을 가짐
<div align="center">
<img src="https://github.com/user-attachments/assets/d4c4e278-40aa-4577-81d4-7c849aaef40e">
</div>

2. 각 항목은 아이노드 번호와 레코드 길이(이름에 사용된 총 바이트와 남은 공간의 합), 문자열 길이(실제 이름 길이), 그리고 항목의 이름을 가짐
   - 각 디렉토리는 .(dot)과 ..(dot-dot)이라는 두 개의 추가 항목이 있으며, dot 디렉토리는 현재 디렉토리(예제에서는 dir)를 가리키며 dot-dot은 부모 디렉토리(이 경우 루트)를 가리킴

3. 파일이 삭제되면(예) unlink() 호출) 디렉토리 중간에 빈 공간이 발생
   - 영역이 비었다는 것을 표시할 방법이 필요한데(예) 0번 아이노드는 삭제된 파일을 나타내기로 약속한 후 아이노드 번호를 0으로 쓰는 식), 항목의 길이를 명시하는 이유가 중간에 빈 공간이 생기기 때문임
   - 새로운 디렉토리 항목을 생성할 때, 기존 항목이 삭제되어 빈 공간에 새로이 생성된 항목을 위치시킬 수도 있기 때문임

4. 디렉토리들은 대부분 파일 시스템에서 특수한 종류의 파일로 간주
   - 디렉토리는 자신의 아이노드를 가지며, 이 아이노드는 아이노드 테이블에 존재 (아이노드의 type 필드에 일반 파일 대신, 디렉토리라고 명시)
   - 디렉터리는 자신의 데이터 블럭을 가지고 있으며, 이들 블럭 위치는 일반 파일과 마찬가지로 아이노드에 명시
   - 이 데이터 블럭들은 데이터 블럭 영역에 존재

5. 예제에서 디렉토리는 가변 크기 레코드로 구성된 배열
   - 이 외에도 많은 방식으로 존재 가능하며, 제대로 구현된다면 어떤 자료 구조라도 상관 없음
   - 예를 들면 XFS는 디렉토리를 B-Tree 형식으로 구성
   - 파일 생성 시, 현재 디렉토리에 동일한 이름의 파일이 있는지 먼저 검사해야 하는데, 만약 디렉토리 항목이 선형 배열로 구성되었다면 항목들을 모두 검사해야 함
   - B-Tree 같은 검색 전용 자료 구조를 사용할 경우, 검색 시간이 단축되며, 파일 생성을 좀 더 빨리할 수 있으나, 단, 이전에 동일한 이름으로 파일이 생성된 적이 없어야 하는 조건 필요
